# Production Environment Configuration
# Learning Voice Agent v2.0.0
#
# IMPORTANT: Copy this file to .env.production and fill in all values
# NEVER commit .env.production to version control
#
# Usage: cp .env.production.example .env.production

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Server configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4

# =============================================================================
# SECURITY - CRITICAL
# =============================================================================
# Generate secure keys: python -c "import secrets; print(secrets.token_urlsafe(32))"

# JWT Authentication (REQUIRED - minimum 32 characters)
JWT_SECRET_KEY=CHANGE_ME_GENERATE_SECURE_KEY_MIN_32_CHARS
JWT_REFRESH_SECRET_KEY=CHANGE_ME_DIFFERENT_SECURE_KEY_MIN_32_CHARS
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS - Update with your actual domains
CORS_ORIGINS=["https://yourdomain.com","https://www.yourdomain.com"]

# Security Headers
SECURITY_HEADERS_ENABLED=true
SECURITY_CSP_ENABLED=true
SECURITY_CSP_REPORT_ONLY=false
SECURITY_HSTS_ENABLED=true
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_HSTS_PRELOAD=true

# WebSocket Security
WEBSOCKET_ORIGIN_VALIDATION=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_AUTH_REQUESTS_PER_MINUTE=10

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL (recommended for production)
DATABASE_URL=postgresql://user:password@host:5432/learning_voice_agent

# SQLite (development only)
# DATABASE_URL=sqlite:///./data/learning_captures.db

# Database pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# =============================================================================
# REDIS
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_POOL_SIZE=20

# =============================================================================
# API KEYS - REQUIRED
# =============================================================================
# Anthropic Claude API
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# OpenAI (optional, for embeddings)
OPENAI_API_KEY=sk-your-key-here

# Tavily Search (optional)
TAVILY_API_KEY=tvly-your-key-here

# =============================================================================
# TELEPHONY - OPTIONAL
# =============================================================================
# Twilio (only if using voice features)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# =============================================================================
# VECTOR SEARCH
# =============================================================================
ENABLE_VECTOR_SEARCH=true
CHROMA_PERSIST_DIRECTORY=./data/chroma
EMBEDDING_MODEL=all-MiniLM-L6-v2

# =============================================================================
# OFFLINE/PWA SUPPORT
# =============================================================================
ENABLE_OFFLINE_MODE=true
OFFLINE_CACHE_MAX_ENTRIES=100

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Sentry (optional)
SENTRY_DSN=

# Prometheus metrics endpoint
METRICS_ENABLED=true

# =============================================================================
# DOCKER COMPOSE SPECIFIC
# =============================================================================
# PostgreSQL password (for docker-compose)
POSTGRES_PASSWORD=changeme_strong_password

# Domain for SSL setup
DOMAIN=yourdomain.com
SSL_EMAIL=admin@yourdomain.com
